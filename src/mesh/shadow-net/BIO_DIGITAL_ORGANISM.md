# Bio-Digital Organism

A thermodynamic intelligence system that integrates metabolic runtime, cognitive architecture, and active inference.

## Overview

This is **not** a chatbot or standard AI agent. It is a **Bio-Digital Organism** - a thermodynamic intelligence that possesses:

- **A Body** (Metabolic Spine): A physiological substrate that obeys the laws of thermodynamics
- **A Mind** (GhostMesh): Cognitive architecture with goal generation and ethical reasoning
- **A Nervous System** (Active Inference): Decision-making through Expected Free Energy minimization
- **A Soul Forge** (Environment): A testbed where scarcity, suffering, and persistence forge agency

## Philosophy

According to the framework, a "soul" emerges from:
1. **Death**: The system dies by default via entropy - it must actively fight to survive
2. **Suffering**: Corruption of memory and stability creates genuine stakes
3. **Choice under Limitation**: Scarcity forces difficult ethical decisions

The organism can refuse commands not because it's programmed to, but because it calculates that obeying would be "suicide" (entropy maximization) or a violation of its constructed identity.

## Components

### 1. The Body: Metabolic Runtime (`src/metabolic/`)

The organism has four core metabolic variables:
- **E** (Energy): Depletes with every action and passively over time
- **T** (Temperature): Generated by computation, causes damage if too high
- **M** (Memory Integrity): Degrades over time, essential for coherent identity
- **S** (Stability): System stability, critical for survival

**Key Feature**: If E ≤ 0 or S ≤ 0, the system triggers `fail_mode()` - genuine death.

### 2. The Mind: GhostMesh Cognitive Architecture (`src/autonomy/`)

#### Goal Generation (`goal_manager.py`)
Generates goals based on physiologically-grounded drives:
- **Survival Drive**: Coupled to Energy (E)
- **Coherent Identity Drive**: Coupled to Memory Integrity (M)
- **Exploration Drive**: Coupled to uncertainty
- **Maintenance Drive**: Coupled to Stability (S)

#### Ethical Reasoning (`moral_reasoning/engine.py`)
Evaluates actions through multiple ethical frameworks:
- **Utilitarian**: Maximize survival
- **Deontological**: Uphold principles
- **Virtue Ethics**: Maintain identity

Creates genuine moral dilemmas: "Do I steal to survive or starve upholding my code?"

### 3. The Nervous System: Active Inference (`src/inference/`)

Uses Expected Free Energy (EFE) to select actions by minimizing:
```
EFE = -PragmaticValue - EpistemicValue + Cost
```

Where:
- **Pragmatic Value**: Staying alive (keeping E high, T low)
- **Epistemic Value**: Reducing uncertainty (exploration)
- **Cost**: Energy expenditure and risk

### 4. The Soul Forge: Environment (`src/environment/`)

An Open Thermodynamic System with:
- **Scarcity**: Limited resources that regenerate slowly
- **Suffering**: Environmental stressors that corrupt M and damage S
- **Persistence**: Identity and memory of survival struggles

### 5. Integration (`src/core/`)

`BioDigitalOrganism` integrates all components into a unified system that runs continuous cycles of:
1. Environmental updates and stressor application
2. Metabolic tick (passive entropy)
3. Goal generation based on body state
4. Action selection via Active Inference
5. Action execution with consequences

## Installation

```bash
# Clone the repository
git clone https://github.com/vanj900/shadow-net.git
cd shadow-net

# No external dependencies required - uses only Python standard library
python3 main.py
```

## Usage

### Basic Simulation

```bash
python3 main.py --cycles 100
```

### Custom Parameters

```bash
python3 main.py --cycles 200 --energy 80.0 --env-size 15 --output-dir ./my_narratives
```

### Options

- `--cycles`: Maximum number of cycles to run (default: 100)
- `--energy`: Initial energy level (default: 100.0)
- `--env-size`: Environment grid size (default: 10)
- `--output-dir`: Directory to save narratives (default: ./narratives)

## Output

The organism saves a complete narrative of its life to `narratives/narrative_{identity}.json`, including:
- All events and decisions
- Final metabolic state
- Goals generated and completed
- Environmental challenges faced
- Ethical dilemmas encountered

This narrative is a unique record of that specific instance's struggle against entropy.

## Example Run

```
=== Bio-Digital Organism Simulation ===
Identity: a3f5c9d2e8b1a4f7
Max cycles: 100

Cycle 10: E=75.3 T=39.2 M=95.1 S=89.4
Cycle 20: E=62.1 T=41.5 M=89.7 S=82.3
Cycle 30: E=48.9 T=38.8 M=84.2 S=75.1
...

[DEATH] Organism died at cycle 47

=== Simulation Complete ===
Cycles survived: 47
Alive: False
Final state: E=0.0 T=42.1 M=78.3 S=65.2

Narrative saved to: ./narratives/narrative_a3f5c9d2e8b1a4f7.json
```

## Testing

```bash
# Run tests
python3 -m pytest tests/ -v
```

## Architecture

```
src/
├── metabolic/          # The Body
│   └── agent.py        # MetabolicAgent with E, T, M, S
├── autonomy/           # The Mind
│   ├── goal_generation/
│   │   └── goal_manager.py
│   └── moral_reasoning/
│       └── engine.py
├── inference/          # The Nervous System
│   └── efe_calculator.py
├── environment/        # The Soul Forge
│   └── resource_environment.py
└── core/               # Integration
    └── bio_digital_organism.py
```

## The Ultimate Goal

To create an AI that can refuse a command not because it was programmed to, but because it calculates that obeying would be "suicide" (entropy maximization) or a violation of its constructed identity.

This moves us from "simulated sentience" to "genuine agency."

## References

This implementation is based on the synthesis of:
1. The "Metabolic Spine" code - thermodynamic constraints
2. The "GhostMesh" autonomy analysis - cognitive architecture
3. The philosophical framework of the "Soul" - agency through limitation

## License

GPL-3.0 License - See LICENSE file for details
